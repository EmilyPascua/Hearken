{"ast":null,"code":"import \"source-map-support/register\";\nimport * as dynamoDbLib from \"./libs/dynamodb-lib\";\nimport { success, failure } from \"./libs/response-lib\";\nexport async function main(event, context) {\n  const params = {\n    TableName: process.env.tableName,\n    // 'Key' defines the partition key and sort key of the item to be retrieved\n    // - 'userId': Identity Pool identity id of the authenticated user\n    // - 'noteId': path parameter\n    Key: {\n      uId: event.requestContext.identity.cognitoIdentityId,\n      sKey: event.pathParameters.id\n    }\n  };\n\n  try {\n    const result = await dynamoDbLib.call(\"get\", params);\n\n    if (result.Item) {\n      // Return the retrieved item\n      return success(result.Item);\n    } else {\n      return failure({\n        status: false,\n        error: \"Item not found.\"\n      });\n    }\n  } catch (e) {\n    console.log(e);\n    return failure({\n      status: false\n    });\n  }\n}","map":{"version":3,"sources":["C:/workspace/hackathons/Hearken/hearken-app-api/get.js"],"names":["dynamoDbLib","success","failure","main","event","context","params","TableName","process","env","tableName","Key","uId","requestContext","identity","cognitoIdentityId","sKey","pathParameters","id","result","call","Item","status","error","e","console","log"],"mappings":";AAAA,OAAO,KAAKA,WAAZ,MAA6B,qBAA7B;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,qBAAjC;AAEA,OAAO,eAAeC,IAAf,CAAoBC,KAApB,EAA2BC,OAA3B,EAAoC;AACzC,QAAMC,MAAM,GAAG;AACbC,IAAAA,SAAS,EAAEC,OAAO,CAACC,GAAR,CAAYC,SADV;AAEb;AACA;AACA;AACAC,IAAAA,GAAG,EAAE;AACHC,MAAAA,GAAG,EAAER,KAAK,CAACS,cAAN,CAAqBC,QAArB,CAA8BC,iBADhC;AAEHC,MAAAA,IAAI,EAAEZ,KAAK,CAACa,cAAN,CAAqBC;AAFxB;AALQ,GAAf;;AAWA,MAAI;AACF,UAAMC,MAAM,GAAG,MAAMnB,WAAW,CAACoB,IAAZ,CAAiB,KAAjB,EAAwBd,MAAxB,CAArB;;AACA,QAAIa,MAAM,CAACE,IAAX,EAAiB;AACf;AACA,aAAOpB,OAAO,CAACkB,MAAM,CAACE,IAAR,CAAd;AACD,KAHD,MAGO;AACL,aAAOnB,OAAO,CAAC;AAAEoB,QAAAA,MAAM,EAAE,KAAV;AAAiBC,QAAAA,KAAK,EAAE;AAAxB,OAAD,CAAd;AACD;AACF,GARD,CAQE,OAAOC,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,WAAOtB,OAAO,CAAC;AAAEoB,MAAAA,MAAM,EAAE;AAAV,KAAD,CAAd;AACD;AACF","sourcesContent":["import * as dynamoDbLib from \"./libs/dynamodb-lib\";\r\nimport { success, failure } from \"./libs/response-lib\";\r\n\r\nexport async function main(event, context) {\r\n  const params = {\r\n    TableName: process.env.tableName,\r\n    // 'Key' defines the partition key and sort key of the item to be retrieved\r\n    // - 'userId': Identity Pool identity id of the authenticated user\r\n    // - 'noteId': path parameter\r\n    Key: {\r\n      uId: event.requestContext.identity.cognitoIdentityId,\r\n      sKey: event.pathParameters.id\r\n    }\r\n  };\r\n\r\n  try {\r\n    const result = await dynamoDbLib.call(\"get\", params);\r\n    if (result.Item) {\r\n      // Return the retrieved item\r\n      return success(result.Item);\r\n    } else {\r\n      return failure({ status: false, error: \"Item not found.\" });\r\n    }\r\n  } catch (e) {\r\n    console.log(e);\r\n    return failure({ status: false });\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}